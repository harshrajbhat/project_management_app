<% content_for :title, "Milestone Details" %>

<div class="container py-4">
  <% if notice.present? %>
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <%= notice %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% end %>

  <div class="card shadow">
    <div class="card-header bg-light d-flex justify-content-between align-items-center">
      <h4 class="mb-0">Milestone Details</h4>
      
    </div>

    <div class="card-body">
      <%= render @milestone %>
    </div>

    <div class="card-footer bg-white d-flex justify-content-between">
      <div>
        <%= link_to milestones_path, class: "btn btn-outline-secondary" do %>
          <i class="fas fa-arrow-left"></i> Back to milestones
        <% end %>
      </div>

      <% if current_user.role == 'manager' %>
        <div class="d-flex gap-2">
          <%= link_to edit_milestone_path(@milestone), class: "btn btn-outline-primary", title: "Edit" do %>
            <i class="fas fa-pencil-alt"></i>
          <% end %>

          <%= button_to @milestone, method: :delete, class: "btn btn-outline-danger", 
              form: { data: { turbo_confirm: "Are you sure you want to delete this milestone?" } }, title: "Delete" do %>
            <i class="fas fa-trash-alt"></i>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>
